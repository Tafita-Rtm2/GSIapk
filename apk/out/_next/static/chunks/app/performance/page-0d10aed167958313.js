(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{33984:(e,s,t)=>{Promise.resolve().then(t.bind(t,88198))},34818:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var r=t(95155),a=t(51190),l=t(20063),i=t(64269);function d(e){let{title:s,subtitle:t,onBack:d,rightElement:n,className:c}=e,x=(0,l.useRouter)();return(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center justify-between mb-6 gap-4",c),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{d?d():x.back()},className:"p-2 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 active:scale-90 transition-all",children:(0,r.jsx)(a.A,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:s}),t&&(0,r.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:t})]})]}),n&&(0,r.jsx)("div",{children:n})]})}},88198:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(95155),a=t(96149),l=t(18274),i=t(94374),d=t(5225),n=t(78770),c=t(52910),x=t(12115),o=t(20063),m=t(68497),h=t(34818),b=t(18720);function p(){let{t:e}=(0,c.o)(),s=(0,o.useRouter)(),[t,p]=(0,x.useState)(null),[u,g]=(0,x.useState)([]),[j,f]=(0,x.useState)([]);if((0,x.useEffect)(()=>{let e=m.B.getCurrentUser();if(!e)return void s.push("/login/");p(e),g(m.B.getCache("grades_".concat(e.id))||[]);let t=m.B.subscribeGrades(e.id,s=>{g(s),m.B.setCache("grades_".concat(e.id),s)}),r=m.B.subscribeSubmissions(void 0,s=>{f(s.filter(s=>s.studentId===e.id))});return()=>{t(),r()}},[s]),!t)return null;let N=u.length>0?(u.reduce((e,s)=>e+s.score,0)/u.length).toFixed(2):"N/A";return(0,r.jsx)(a.e,{children:(0,r.jsxs)("div",{className:"p-6 pb-24",children:[(0,r.jsx)(h.z,{title:"Ma Performance",rightElement:(0,r.jsx)("button",{onClick:()=>b.o.success("Donn\xe9es de performance mises \xe0 jour."),className:"bg-primary/10 p-2 rounded-xl text-primary active:scale-95 transition-transform",children:(0,r.jsx)(l.A,{size:24})})}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 p-6 rounded-[32px] text-white shadow-xl shadow-indigo-200 mb-8 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute right-[-20px] top-[-20px] w-32 h-32 bg-white/10 rounded-full blur-2xl"}),(0,r.jsx)("p",{className:"text-white/70 text-sm font-bold uppercase tracking-widest mb-2",children:"Moyenne G\xe9n\xe9rale"}),(0,r.jsxs)("div",{className:"flex items-end gap-3 mb-6",children:[(0,r.jsx)("span",{className:"text-5xl font-black",children:N}),(0,r.jsx)("span",{className:"text-xl font-bold opacity-60 mb-1",children:"/ 20"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 p-3 rounded-2xl w-fit",children:[(0,r.jsx)(i.A,{size:16}),(0,r.jsx)("span",{className:"text-xs font-bold",children:"+1.2 pts vs semestre pr\xe9c\xe9dent"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-bold mb-4",children:"\xc9volution des notes"}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-[32px] shadow-sm border border-gray-100 h-40 flex items-end justify-between gap-2 px-8",children:[40,70,55,90,65,85].map((e,s)=>(0,r.jsx)("div",{className:"w-4 bg-primary/20 rounded-full relative group",children:(0,r.jsx)("div",{className:"absolute bottom-0 w-full bg-primary rounded-full transition-all group-hover:bg-accent",style:{height:"".concat(e,"%")}})},s))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:"D\xe9tails par mati\xe8re"}),(0,r.jsx)("button",{className:"text-primary text-xs font-bold",children:"Trier par date"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[u.map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 flex items-center gap-4 shadow-sm active:scale-[0.98] transition-all",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600",children:(0,r.jsx)(d.A,{size:20})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-bold text-sm",children:e.subject}),(0,r.jsx)("p",{className:"text-[10px] text-gray-400",children:e.date})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-black text-gray-800",children:[e.score," ",(0,r.jsxs)("span",{className:"text-[10px] text-gray-400",children:["/ ",e.maxScore]})]}),(0,r.jsx)("span",{className:"text-[10px] font-bold text-emerald-500",children:"Valid\xe9"})]})]},s)),0===u.length&&(0,r.jsxs)("div",{className:"bg-gray-50 p-10 rounded-[32px] text-center border-2 border-dashed border-gray-200",children:[(0,r.jsx)(n.A,{size:32,className:"text-gray-300 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 font-medium",children:"Aucune note n'a encore \xe9t\xe9 publi\xe9e."})]})]})]}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Retours sur mes devoirs"}),(0,r.jsxs)("div",{className:"space-y-3",children:[j.filter(e=>e.feedback||void 0!==e.score).map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-5 rounded-[32px] border border-gray-100 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-xs uppercase text-gray-400",children:"Devoir rendu"}),(0,r.jsxs)("p",{className:"text-sm font-black text-gray-800",children:[e.id.substring(0,8),"..."]})]}),void 0!==e.score&&(0,r.jsxs)("div",{className:"bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full text-xs font-black",children:[e.score," / 20"]})]}),e.feedback?(0,r.jsxs)("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100/50",children:[(0,r.jsx)("p",{className:"text-[10px] font-black uppercase text-indigo-400 mb-1",children:"Commentaire du Prof :"}),(0,r.jsxs)("p",{className:"text-xs font-medium text-indigo-900 italic",children:['"',e.feedback,'"']})]}):(0,r.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase italic",children:"En attente de correction d\xe9taill\xe9e"})]},s)),0===j.filter(e=>e.feedback||void 0!==e.score).length&&(0,r.jsx)("p",{className:"text-center py-6 text-[10px] font-black text-gray-300 uppercase italic",children:"Aucun retour pour le moment"})]})]}),(0,r.jsxs)("div",{className:"bg-orange-50 p-6 rounded-[32px] border border-orange-100 flex items-start gap-4",children:[(0,r.jsx)("div",{className:"bg-orange-100 p-2 rounded-xl text-orange-600",children:(0,r.jsx)(n.A,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-orange-900 font-bold text-sm",children:"Conseil GSI Insight"}),(0,r.jsxs)("p",{className:"text-orange-700 text-xs mt-1 leading-relaxed",children:["Votre performance en ",(0,r.jsx)("b",{children:t.filiere})," est excellente ! Pensez \xe0 consulter les supports compl\xe9mentaires en biblioth\xe8que pour maintenir ce niveau."]})]})]})]})})}}},e=>{e.O(0,[233,909,619,326,497,530,441,493,358],()=>e(e.s=33984)),_N_E=e.O()}]);