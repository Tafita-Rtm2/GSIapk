(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{61533:(e,t,s)=>{Promise.resolve().then(s.bind(s,86727))},77711:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(21956),r=s.n(a)},21956:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let a=s(60306)._(s(30580));function r(e,t){var s;let r={};"function"==typeof e&&(r.loader=e);let l={...r,...t};return(0,a.default)({...l,modules:null==(s=l.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39827:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=s(93719);function r(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return s}},30580:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=s(95155),r=s(12115),l=s(39827),i=s(79214);function n(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},c=function(e){let t={...d,...e},s=(0,r.lazy)(()=>t.loader().then(n)),c=t.loading;function o(e){let n=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,o=d?r.Suspense:r.Fragment,u=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(s,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(o,{...d?{fallback:n}:{},children:u})}return o.displayName="LoadableComponent",o}},79214:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}});let a=s(95155),r=s(47650),l=s(75861),i=s(18284);function n(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=l.workAsyncStorage.getStore();if(void 0===s)return null;let n=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files;n.push(...t)}}return 0===n.length?null:(0,a.jsx)(a.Fragment,{children:n.map(e=>{let t=s.assetPrefix+"/_next/"+(0,i.encodeURIPath)(e);return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,r.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},86727:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(95155),r=s(75951),l=s(90272),i=s(54333),n=s(12472),d=s(52897),c=s(4683),o=s(37195),u=s(35524),p=s(12115),x=s(21567),m=s(63699),h=s(89268),y=s(30814);function f(){var e;let{t}=(0,l.o)(),[s,f]=(0,p.useState)("Lundi"),[g,b]=(0,p.useState)(null),[j,k]=(0,p.useState)([]),[v,w]=(0,p.useState)("day"),N=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"];(0,p.useEffect)(()=>{let e=m.B.getCurrentUser();if(e){if("professor"===e.role){let t=m.B.subscribeLatestSchedule("","",t=>{let s=[];Object.values(t).forEach(t=>{t.slots&&t.slots.forEach(a=>{a.instructor&&(a.instructor.toLowerCase().includes(e.fullName.toLowerCase())||e.fullName.toLowerCase().includes(a.instructor.toLowerCase()))&&s.push({...a,campusInfo:"".concat(t.campus," ").concat(t.niveau)})})}),b({id:"prof",campus:"Tous",niveau:"Tous",lastUpdated:new Date().toISOString(),slots:s})});return()=>t()}{let t=[m.B.subscribeLatestSchedule(e.campus,e.niveau,e=>{g&&JSON.stringify(e)!==JSON.stringify(g)&&y.o.info("L'emploi du temps a \xe9t\xe9 mis \xe0 jour par l'administration."),b(e)}),m.B.subscribeReminders(e=>k(e.filter(e=>e.isAlarm)))];return()=>t.forEach(e=>e())}}},[g]);let A=(null==g?void 0:null===(e=g.slots)||void 0===e?void 0:e.filter(e=>e.day===s))||[],M=e=>{let t=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0),s=["bg-indigo-600","bg-emerald-600","bg-orange-600","bg-rose-600","bg-violet-600","bg-sky-600"];return s[t%s.length]};return(0,a.jsx)(r.e,{children:(0,a.jsxs)("div",{className:"p-6 pb-24 bg-[#F8FAFC] min-h-full",children:[(0,a.jsx)(h.z,{title:t("planning")}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6 scrollbar-hide",children:N.map(e=>(0,a.jsx)("button",{onClick:()=>f(e),className:(0,x.cn)("px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap",s===e?"bg-indigo-600 text-white shadow-lg shadow-indigo-100 scale-105":"bg-white text-gray-400 border border-gray-100"),children:e},e))}),(0,a.jsxs)("div",{className:"flex bg-white/50 p-1 rounded-2xl mb-6 border border-gray-100 self-center max-w-fit mx-auto",children:[(0,a.jsx)("button",{onClick:()=>w("day"),className:(0,x.cn)("px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all","day"===v?"bg-white text-primary shadow-sm":"text-gray-400"),children:"Jour"}),(0,a.jsx)("button",{onClick:()=>w("week"),className:(0,x.cn)("px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all","week"===v?"bg-white text-primary shadow-sm":"text-gray-400"),children:"Semaine"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-12",children:["day"===v?A.sort((e,t)=>e.startTime.localeCompare(t.startTime)).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm flex gap-6 relative overflow-hidden group hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center border-r border-gray-100 pr-6 min-w-[80px]",children:[(0,a.jsx)("span",{className:"text-sm font-black text-gray-900",children:e.startTime}),(0,a.jsx)("div",{className:"w-0.5 h-4 bg-gray-100 my-1"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-400",children:e.endTime})]}),(0,a.jsxs)("div",{className:"flex-1 py-1",children:[(0,a.jsx)("h3",{className:"font-black text-sm text-gray-900 uppercase tracking-tight mb-2",children:e.subject}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-4 gap-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(i.A,{size:12,className:"text-indigo-500"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-500",children:e.room})]}),e.campusInfo&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(i.A,{size:12,className:"text-orange-500"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-orange-600 uppercase",children:e.campusInfo})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(n.A,{size:12,className:"text-gray-400"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-500 truncate max-w-[100px]",children:e.instructor})]})]})]}),(0,a.jsx)("div",{className:(0,x.cn)("absolute right-0 top-0 bottom-0 w-1.5 transition-opacity",M(e.subject))})]},t)):(0,a.jsx)("div",{className:"space-y-6",children:N.map(e=>{var t;let s=(null==g?void 0:null===(t=g.slots)||void 0===t?void 0:t.filter(t=>t.day===e))||[];return 0===s.length?null:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-black uppercase text-gray-400 px-2 tracking-[0.2em]",children:e}),s.sort((e,t)=>e.startTime.localeCompare(t.startTime)).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[11px] font-black uppercase text-gray-800",children:e.subject}),(0,a.jsxs)("p",{className:"text-[9px] font-bold text-gray-400",children:[e.startTime," â€” ",e.room]})]}),(0,a.jsx)("div",{className:(0,x.cn)("w-2 h-2 rounded-full",M(e.subject))})]},t))]},e)})}),0===A.length&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 opacity-20",children:[(0,a.jsx)(d.A,{size:64,className:"mb-4"}),(0,a.jsx)("p",{className:"font-black uppercase text-xs tracking-widest",children:"Aucun cours pr\xe9vu"})]})]}),(0,a.jsxs)("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-xs font-black uppercase tracking-widest text-indigo-600",children:"Mon Programme Personnel"}),(0,a.jsx)("button",{onClick:()=>{let e=prompt("Titre de votre session d'\xe9tude :"),t=prompt("Heure (HH:mm) :","18:00"),s=prompt("Mati\xe8re :");e&&t&&s&&(m.B.addReminder({id:Math.random().toString(36).substr(2,9),title:e,date:new Date().toISOString().split("T")[0],time:t,subject:s,completed:!1,isAlarm:!0}),y.o.success("Programme ajout\xe9 avec alarme !"))},className:"p-2 bg-indigo-600 text-white rounded-xl active:scale-90 transition-all shadow-lg shadow-indigo-100",children:(0,a.jsx)(c.A,{size:20})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[j.map(e=>(0,a.jsxs)("div",{className:"bg-indigo-50/50 p-5 rounded-[28px] border border-indigo-100 flex items-center gap-4 group animate-in slide-in-from-bottom-2",children:[(0,a.jsxs)("div",{className:"w-12 h-12 bg-white rounded-2xl flex flex-col items-center justify-center shadow-sm text-indigo-600",children:[(0,a.jsx)(o.A,{size:16}),(0,a.jsx)("span",{className:"text-[8px] font-black mt-1",children:e.time})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-xs font-black uppercase text-indigo-900",children:e.subject}),(0,a.jsx)("p",{className:"text-[10px] font-bold text-indigo-400",children:e.title})]}),(0,a.jsx)("button",{onClick:()=>m.B.deleteReminder(e.id),className:"p-2 text-rose-400 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(u.A,{size:16})})]},e.id)),0===j.length&&(0,a.jsx)("div",{className:"p-8 border-2 border-dashed border-gray-100 rounded-[32px] text-center",children:(0,a.jsx)("p",{className:"text-[10px] font-black text-gray-300 uppercase",children:"Aucun programme personnel"})})]})]}),g&&(0,a.jsxs)("p",{className:"text-center text-[8px] font-black text-gray-300 uppercase tracking-[0.2em] mt-12",children:["Derni\xe8re mise \xe0 jour : ",new Date(g.lastUpdated).toLocaleString()]})]})})}},89268:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var a=s(95155),r=s(25012),l=s(76046),i=s(21567);function n(e){let{title:t,subtitle:s,onBack:n,rightElement:d,className:c}=e,o=(0,l.useRouter)();return(0,a.jsxs)("div",{className:(0,i.cn)("flex items-center justify-between mb-6 gap-4",c),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{n?n():o.back()},className:"p-2 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 active:scale-90 transition-all",children:(0,a.jsx)(r.A,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:t}),s&&(0,a.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:s})]})]}),d&&(0,a.jsx)("div",{children:d})]})}},42501:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},52897:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},25012:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},37195:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},87493:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},6306:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},54333:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},48694:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]])},4683:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},35524:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},12472:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},50437:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},82118:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5194:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},689:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(14057).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[260,181,173,699,951,441,517,358],()=>t(61533)),_N_E=e.O()}]);