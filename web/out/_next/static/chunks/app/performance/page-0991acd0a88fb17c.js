(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{1087:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var r=t(5155),a=t(9294),l=t(8274),i=t(4374),d=t(5225),n=t(8770),c=t(5571),x=t(2115),o=t(63),m=t(4824),h=t(1631),p=t(8720);function u(){let{t:e}=(0,c.o)(),s=(0,o.useRouter)(),[t,u]=(0,x.useState)(null),[b,g]=(0,x.useState)([]),[j,f]=(0,x.useState)([]);if((0,x.useEffect)(()=>{let e=m.B.getCurrentUser();if(!e)return void s.push("/login");u(e),g(m.B.getCache("grades_".concat(e.id))||[]);let t=m.B.subscribeGrades(e.id,s=>{g(s),m.B.setCache("grades_".concat(e.id),s)}),r=m.B.subscribeSubmissions(void 0,s=>{f(s.filter(s=>s.studentId===e.id))});return()=>{t(),r()}},[s]),!t)return null;let v=b.length>0?(b.reduce((e,s)=>e+s.score,0)/b.length).toFixed(2):"N/A";return(0,r.jsx)(a.e,{children:(0,r.jsxs)("div",{className:"p-6 pb-24",children:[(0,r.jsx)(h.z,{title:"Ma Performance",rightElement:(0,r.jsx)("button",{onClick:()=>p.o.success("Donn\xe9es de performance mises \xe0 jour."),className:"bg-primary/10 p-2 rounded-xl text-primary active:scale-95 transition-transform",children:(0,r.jsx)(l.A,{size:24})})}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 p-6 rounded-[32px] text-white shadow-xl shadow-indigo-200 mb-8 relative overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute right-[-20px] top-[-20px] w-32 h-32 bg-white/10 rounded-full blur-2xl"}),(0,r.jsx)("p",{className:"text-white/70 text-sm font-bold uppercase tracking-widest mb-2",children:"Moyenne G\xe9n\xe9rale"}),(0,r.jsxs)("div",{className:"flex items-end gap-3 mb-6",children:[(0,r.jsx)("span",{className:"text-5xl font-black",children:v}),(0,r.jsx)("span",{className:"text-xl font-bold opacity-60 mb-1",children:"/ 20"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 bg-white/20 p-3 rounded-2xl w-fit",children:[(0,r.jsx)(i.A,{size:16}),(0,r.jsx)("span",{className:"text-xs font-bold",children:"+1.2 pts vs semestre pr\xe9c\xe9dent"})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"text-lg font-bold mb-4",children:"\xc9volution des notes"}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-[32px] shadow-sm border border-gray-100 h-40 flex items-end justify-between gap-2 px-8",children:[40,70,55,90,65,85].map((e,s)=>(0,r.jsx)("div",{className:"w-4 bg-primary/20 rounded-full relative group",children:(0,r.jsx)("div",{className:"absolute bottom-0 w-full bg-primary rounded-full transition-all group-hover:bg-accent",style:{height:"".concat(e,"%")}})},s))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-lg font-bold",children:"D\xe9tails par mati\xe8re"}),(0,r.jsx)("button",{className:"text-primary text-xs font-bold",children:"Trier par date"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[b.map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 flex items-center gap-4 shadow-sm active:scale-[0.98] transition-all",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-indigo-50 rounded-xl flex items-center justify-center text-indigo-600",children:(0,r.jsx)(d.A,{size:20})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-bold text-sm",children:e.subject}),(0,r.jsx)("p",{className:"text-[10px] text-gray-400",children:e.date})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("p",{className:"text-sm font-black text-gray-800",children:[e.score," ",(0,r.jsxs)("span",{className:"text-[10px] text-gray-400",children:["/ ",e.maxScore]})]}),(0,r.jsx)("span",{className:"text-[10px] font-bold text-emerald-500",children:"Valid\xe9"})]})]},s)),0===b.length&&(0,r.jsxs)("div",{className:"bg-gray-50 p-10 rounded-[32px] text-center border-2 border-dashed border-gray-200",children:[(0,r.jsx)(n.A,{size:32,className:"text-gray-300 mx-auto mb-3"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 font-medium",children:"Aucune note n'a encore \xe9t\xe9 publi\xe9e."})]})]})]}),(0,r.jsxs)("div",{className:"mb-12",children:[(0,r.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Retours sur mes devoirs"}),(0,r.jsxs)("div",{className:"space-y-3",children:[j.filter(e=>e.feedback||void 0!==e.score).map((e,s)=>(0,r.jsxs)("div",{className:"bg-white p-5 rounded-[32px] border border-gray-100 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-bold text-xs uppercase text-gray-400",children:"Devoir rendu"}),(0,r.jsxs)("p",{className:"text-sm font-black text-gray-800",children:[e.id.substring(0,8),"..."]})]}),void 0!==e.score&&(0,r.jsxs)("div",{className:"bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full text-xs font-black",children:[e.score," / 20"]})]}),e.feedback?(0,r.jsxs)("div",{className:"p-4 bg-indigo-50/50 rounded-2xl border border-indigo-100/50",children:[(0,r.jsx)("p",{className:"text-[10px] font-black uppercase text-indigo-400 mb-1",children:"Commentaire du Prof :"}),(0,r.jsxs)("p",{className:"text-xs font-medium text-indigo-900 italic",children:['"',e.feedback,'"']})]}):(0,r.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase italic",children:"En attente de correction d\xe9taill\xe9e"})]},s)),0===j.filter(e=>e.feedback||void 0!==e.score).length&&(0,r.jsx)("p",{className:"text-center py-6 text-[10px] font-black text-gray-300 uppercase italic",children:"Aucun retour pour le moment"})]})]}),(0,r.jsxs)("div",{className:"bg-orange-50 p-6 rounded-[32px] border border-orange-100 flex items-start gap-4",children:[(0,r.jsx)("div",{className:"bg-orange-100 p-2 rounded-xl text-orange-600",children:(0,r.jsx)(n.A,{size:20})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-orange-900 font-bold text-sm",children:"Conseil GSI Insight"}),(0,r.jsxs)("p",{className:"text-orange-700 text-xs mt-1 leading-relaxed",children:["Votre performance en ",(0,r.jsx)("b",{children:t.filiere})," est excellente ! Pensez \xe0 consulter les supports compl\xe9mentaires en biblioth\xe8que pour maintenir ce niveau."]})]})]})]})})}},1190:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4294).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1631:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var r=t(5155),a=t(1190),l=t(63),i=t(5016);function d(e){let{title:s,subtitle:t,onBack:d,rightElement:n,className:c}=e,x=(0,l.useRouter)();return(0,r.jsxs)("div",{className:(0,i.cn)("flex items-center justify-between mb-6 gap-4",c),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("button",{onClick:()=>{d?d():x.back()},className:"p-2 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 active:scale-90 transition-all",children:(0,r.jsx)(a.A,{size:24})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:s}),t&&(0,r.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:t})]})]}),n&&(0,r.jsx)("div",{children:n})]})}},4374:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4294).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},5225:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4294).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8274:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4294).A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},8581:(e,s,t)=>{Promise.resolve().then(t.bind(t,1087))},8770:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(4294).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}},e=>{e.O(0,[594,720,909,874,824,294,441,493,358],()=>e(e.s=8581)),_N_E=e.O()}]);