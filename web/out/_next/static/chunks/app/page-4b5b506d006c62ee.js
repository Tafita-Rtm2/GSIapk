(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5225:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},5866:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]])},50984:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},52910:(e,t,s)=>{"use strict";s.d(t,{LanguageProvider:()=>l,o:()=>c});var r=s(95155),a=s(12115);let i={accueil:{fr:"Accueil",en:"Home"},planning:{fr:"Planning",en:"Schedule"},matieres:{fr:"Mati\xe8res",en:"Subjects"},biblio:{fr:"Biblio",en:"Library"},community:{fr:"Communaut\xe9",en:"Community"},profil:{fr:"Profil",en:"Profile"},mon_profil:{fr:"Mon Profil",en:"My Profile"},reussites:{fr:"R\xe9ussites",en:"Achievements"},demandes:{fr:"Demandes",en:"Requests"},bonjour:{fr:"Bonjour",en:"Hello"},tasks_today:{fr:"t\xe2ches aujourd'hui",en:"tasks today"},votre_progression:{fr:"Votre progression",en:"Your progress"},cours_en_cours:{fr:"Cours en cours",en:"Current courses"},votre_emploi_du_temps:{fr:"Votre emploi du temps",en:"Your schedule"},ask_insight:{fr:"Demander \xe0 Insight",en:"Ask Insight"},se_connecter:{fr:"Se connecter",en:"Login"},email:{fr:"Adresse Email",en:"Email Address"},password:{fr:"Mot de passe",en:"Password"},no_account:{fr:"Vous n'avez pas de compte ?",en:"Don't have an account?"},request_access:{fr:"Demander l'acc\xe8s",en:"Request access"},services:{fr:"Services",en:"Services"},documents:{fr:"Documents",en:"Documents"},attestation:{fr:"Attestation",en:"Certificate"},releve_notes:{fr:"Relev\xe9 de notes",en:"Transcript"},certificat:{fr:"Certificat",en:"Certificate"},scolarite:{fr:"Scolarit\xe9",en:"Tuition"},examen:{fr:"Examen",en:"Exam"},divers:{fr:"Divers",en:"Other"},valide:{fr:"Valid\xe9",en:"Approved"},en_cours:{fr:"En cours",en:"In progress"},stages:{fr:"Stages",en:"Internships"},opportunites:{fr:"Opportunit\xe9s",en:"Opportunities"},competences:{fr:"Comp\xe9tences",en:"Skills"},semaine:{fr:"Semaine",en:"Week"},mois:{fr:"Mois",en:"Month"},en_cours_badge:{fr:"EN COURS",en:"ONGOING"},rechercher:{fr:"Rechercher",en:"Search"},tous:{fr:"Tous",en:"All"},favoris:{fr:"Favoris",en:"Favorites"},recents:{fr:"R\xe9cents",en:"Recent"},nom_complet:{fr:"Nom complet",en:"Full Name"},creer_compte:{fr:"Cr\xe9er un compte",en:"Create an account"},deja_compte:{fr:"D\xe9j\xe0 un compte ?",en:"Already have an account?"},filiere:{fr:"Fili\xe8re",en:"Major"},niveau:{fr:"Niveau",en:"Level"},campus:{fr:"Campus",en:"Campus"},creer_mon_compte:{fr:"Cr\xe9er mon compte",en:"Create my account"},admin_portal:{fr:"Portail Administrateur",en:"Administrator Portal"},prof_portal:{fr:"Portail Professeur",en:"Professor Portal"},enter_code:{fr:"Entrez le code d'acc\xe8s",en:"Enter access code"},valider:{fr:"Valider",en:"Validate"},dashboard:{fr:"Tableau de Bord",en:"Dashboard"},gestion_utilisateurs:{fr:"Gestion des Utilisateurs",en:"User Management"},communication:{fr:"Communication",en:"Communication"},gestion_academique:{fr:"Gestion Acad\xe9mique",en:"Academic Management"},stats_rapports:{fr:"Stats & Rapports",en:"Stats & Reports"},publier_lecon:{fr:"Publier une le\xe7on",en:"Publish a lesson"},publier_devoir:{fr:"Publier un devoir",en:"Publish an assignment"},gestion_notes:{fr:"Gestion des notes",en:"Grade Management"},suivi_etudiants:{fr:"Suivi des \xe9tudiants",en:"Student Tracking"},modifier_edt:{fr:"Modifier l'Emploi du Temps",en:"Modify Schedule"},titre:{fr:"Titre",en:"Title"},description:{fr:"Description",en:"Description"},fichiers:{fr:"Fichiers",en:"Files"},matiere:{fr:"Mati\xe8re",en:"Subject"},date_limite:{fr:"Date limite",en:"Deadline"},soumettre:{fr:"Soumettre",en:"Submit"},success_today:{fr:"la r\xe9ussite aujourd'hui",en:"success today"},gsi_insight_tagline:{fr:"Comprendre aujourd'hui, r\xe9ussir demain.",en:"Understanding today, succeeding tomorrow."},gsi_mission:{fr:"L'application intelligente de GSI Internationale con\xe7ue pour accompagner chaque \xe9tudiant.",en:"The intelligent application of GSI Internationale designed to accompany every student."},convoquer:{fr:"Convoquer",en:"Summon"},convocation:{fr:"Convocation",en:"Summons"},import_excel:{fr:"Import Excel",en:"Excel Import"},moyenne_classe:{fr:"Moyenne de classe",en:"Class average"}},n=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,a.useState)("fr");return(0,a.useEffect)(()=>{let e=localStorage.getItem("app_lang");e&&("fr"===e||"en"===e)&&l(e)},[]),(0,r.jsx)(n.Provider,{value:{language:s,setLanguage:e=>{l(e),localStorage.setItem("app_lang",e)},t:e=>{var t;return(null==(t=i[e])?void 0:t[s])||e}},children:t})}function c(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},54356:(e,t,s)=>{Promise.resolve().then(s.bind(s,89547))},59338:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},64269:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(2821),a=s(75889);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},78770:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},89547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var r=s(95155),a=s(96149),i=s(50984),n=s(90644),l=s(5866),c=s(78770),o=s(90576),d=s(62593),u=s(94374),m=s(59338),x=s(77187),p=s(5225),h=s(26615),f=s(52619),g=s.n(f),b=s(52910),v=s(64269),j=s(12115),y=s(20063),w=s(68497),N=s(18720);function k(){var e,t,s,f;let{t:k}=(0,b.o)(),A=(0,y.useRouter)(),[S,C]=(0,j.useState)(null),[_,M]=(0,j.useState)(!1),[E,I]=(0,j.useState)([]),[z,L]=(0,j.useState)([]),[D,P]=(0,j.useState)([]),[B,T]=(0,j.useState)([]),[F,q]=(0,j.useState)("syncing"),[G,O]=(0,j.useState)(null),[R,V]=(0,j.useState)({});if((0,j.useEffect)(()=>{let e=w.B.getCurrentUser();if(!e)return void A.replace("/login");if("admin"===e.role)return void A.replace("/admin");if("professor"===e.role)return void A.replace("/professor");C(e);let t=[w.B.subscribeAuth(e=>C(e)),w.B.subscribeLessons({niveau:e.niveau},t=>{L(t.filter(t=>(t.campus.includes(e.campus)||0===t.campus.length)&&(t.filiere.includes(e.filiere)||0===t.filiere.length))),q("ready")}),w.B.subscribeAssignments({niveau:e.niveau},t=>{P(t.filter(t=>(t.campus.includes(e.campus)||0===t.campus.length)&&(t.filiere.includes(e.filiere)||0===t.filiere.length)))}),w.B.subscribeAnnouncements(t=>{T(t.filter(t=>(!t.targetUserId||t.targetUserId===e.id)&&(!t.campus||t.campus.includes(e.campus)||0===t.campus.length)&&(!t.filiere||t.filiere.includes(e.filiere)||0===t.filiere.length)&&(!t.niveau||t.niveau===e.niveau)))})],s=()=>q("offline"),r=()=>q("syncing");return window.addEventListener("offline",s),window.addEventListener("online",r),()=>{t.forEach(e=>e()),window.removeEventListener("offline",s),window.removeEventListener("online",r)}},[A]),(0,j.useEffect)(()=>{if(S)return w.B.subscribeLatestSchedule(S.campus,S.niveau,e=>O(e))},[S]),(0,j.useEffect)(()=>{let e=localStorage.getItem("gsi_progress");e&&V(JSON.parse(e));let t=localStorage.getItem("gsi_read_notifications");t&&I(JSON.parse(t))},[z]),!S)return null;let U=S.fullName.split(" ")[0],H=B.filter(e=>"convocation"===e.type),J=["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"][new Date().getDay()],Y=60*new Date().getHours()+new Date().getMinutes(),Q=null==G||null==(f=G.slots)||null==(s=f.filter(e=>e.day===J&&e.startTime&&e.startTime.includes(":")))||null==(t=s.map(e=>{try{let[t,s]=e.startTime.split(":").map(Number);return{...e,totalMinutes:(isNaN(t)?0:t)*60+(isNaN(s)?0:s)}}catch(t){return{...e,totalMinutes:0}}}))||null==(e=t.filter(e=>e.totalMinutes>Y))?void 0:e.sort((e,t)=>e.totalMinutes-t.totalMinutes)[0],W=Array.from(new Set(z.map(e=>e.subject)));return(0,r.jsx)(a.e,{children:(0,r.jsxs)("div",{className:"p-6 pb-24 max-w-md mx-auto bg-[#F8FAFC] min-h-screen",children:[(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsxs)("div",{className:(0,v.cn)("px-4 py-1.5 rounded-full flex items-center gap-2 text-[10px] font-bold uppercase transition-all","ready"===F?"bg-emerald-100 text-emerald-600":"offline"===F?"bg-orange-100 text-orange-600":"bg-indigo-100 text-indigo-600 animate-pulse"),children:["ready"===F?(0,r.jsx)(i.A,{size:12}):"offline"===F?(0,r.jsx)(n.A,{size:12}):(0,r.jsx)(l.A,{size:12,className:"animate-spin"}),"ready"===F?"Cloud Connect\xe9":"offline"===F?"Mode Local":"Sync GSI Cloud..."]})}),H.length>0&&(0,r.jsxs)("div",{className:"mb-6 bg-rose-50 border-2 border-rose-100 p-5 rounded-[32px] animate-in slide-in-from-top duration-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-rose-500 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-rose-200",children:(0,r.jsx)(c.A,{size:20})}),(0,r.jsx)("h3",{className:"text-rose-600 font-black text-xs uppercase tracking-widest",children:"Convocation Administrative"})]}),(0,r.jsx)("p",{className:"text-[11px] text-rose-500 font-bold leading-relaxed mb-4",children:H[0].message}),(0,r.jsx)("button",{onClick:()=>N.o.success("Confirmation envoy\xe9e \xe0 l'administration."),className:"w-full py-3 bg-rose-500 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-md active:scale-95 transition-all",children:"Confirmer R\xe9ception"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8 pt-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(g(),{href:"/profile",className:"w-14 h-14 rounded-[22px] bg-white p-0.5 shadow-xl shadow-indigo-100/50 border border-indigo-50 rotate-[-3deg] hover:rotate-0 transition-all duration-500 overflow-hidden",children:(0,r.jsx)("img",{src:S.photo?w.B.getAbsoluteUrl(S.photo):"https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(S.fullName),alt:"Avatar",className:"w-full h-full object-cover rounded-[20px]",onError:e=>{e.currentTarget.src="https://api.dicebear.com/7.x/avataaars/svg?seed=".concat(S.fullName)}})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-gray-400 text-[10px] font-black uppercase tracking-[0.2em] mb-0.5",children:["Bonjour ",U]}),(0,r.jsxs)("h1",{className:"text-xl font-black text-gray-900 tracking-tight leading-none",children:["GSI Insight ",(0,r.jsx)("span",{className:"text-primary",children:"Plus"})]})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsxs)("button",{onClick:()=>M(!_),className:"relative w-12 h-12 flex items-center justify-center bg-white shadow-xl shadow-indigo-100/30 border border-gray-100 rounded-2xl text-gray-400 hover:text-primary transition-all active:scale-90",children:[(0,r.jsx)(o.A,{size:22}),(B.length>0||D.length>0)&&(0,r.jsx)("div",{className:"absolute top-3.5 right-3.5 w-2.5 h-2.5 bg-rose-500 border-[3px] border-white rounded-full shadow-sm"})]})})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-xs font-black uppercase tracking-widest text-gray-400 mb-4 px-1",children:"Votre journ\xe9e en un coup d’œil"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-5 rounded-[32px] border border-gray-100 shadow-sm relative overflow-hidden group",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-primary/10 text-primary rounded-xl flex items-center justify-center",children:(0,r.jsx)(d.A,{size:20})}),(0,r.jsx)("span",{className:"bg-emerald-50 text-emerald-600 px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Suivant"})]}),Q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{className:"font-black text-sm uppercase mb-1",children:Q.subject}),(0,r.jsxs)("p",{className:"text-[10px] font-bold text-gray-500 mb-2",children:[Q.startTime," — Salle ",Q.room]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full bg-gray-100 overflow-hidden",children:(0,r.jsx)("img",{src:"https://api.dicebear.com/7.x/initials/svg?seed=".concat(Q.instructor)})}),(0,r.jsx)("span",{className:"text-[9px] font-black text-gray-400 uppercase",children:Q.instructor})]})]}):(0,r.jsx)("p",{className:"text-[10px] font-black text-gray-300 uppercase italic",children:"Aucun cours \xe0 venir aujourd'hui"}),(0,r.jsx)("div",{className:"absolute right-[-10px] top-[-10px] w-20 h-20 bg-primary/5 rounded-full blur-2xl group-hover:bg-primary/10 transition-colors"})]}),(D.length>0||B.length>0)&&(0,r.jsxs)("div",{className:"bg-orange-50/50 p-5 rounded-[32px] border border-orange-100",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)(c.A,{size:16,className:"text-orange-500"}),(0,r.jsx)("span",{className:"text-[9px] font-black uppercase tracking-widest text-orange-600",children:"Alertes Actives"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[D.slice(0,1).map((e,t)=>(0,r.jsxs)("div",{className:"flex justify-between items-center text-[10px]",children:[(0,r.jsxs)("span",{className:"font-bold text-gray-700 truncate mr-2",children:["Devoir: ",e.title]}),(0,r.jsx)("span",{className:"font-black text-orange-600 whitespace-nowrap",children:e.deadline})]},t)),B.filter(e=>"convocation"!==e.type).slice(0,1).map((e,t)=>(0,r.jsxs)("div",{className:"text-[10px] font-bold text-gray-500 truncate italic",children:["Annonce: ",e.title]},t))]})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-[32px] border border-gray-100 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("span",{className:"text-[9px] font-black uppercase text-gray-400",children:"Progression par mati\xe8re"}),(0,r.jsx)(u.A,{size:14,className:"text-emerald-500"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[W.slice(0,4).map((e,t)=>{let s=z.filter(t=>t.subject===e),a=s.filter(e=>{var t;return null==(t=R[e.id])?void 0:t.completed}).length,i=s.length>0?Math.round(a/s.length*100):0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-[8px] font-black uppercase mb-1",children:[(0,r.jsx)("span",{className:"text-gray-600 truncate mr-4",children:e}),(0,r.jsxs)("span",{children:[i,"%"]})]}),(0,r.jsx)("div",{className:"h-1.5 w-full bg-gray-100 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:(0,v.cn)("h-full rounded-full transition-all duration-1000",["bg-indigo-500","bg-emerald-500","bg-orange-500","bg-rose-500"][t%4]),style:{width:"".concat(i,"%")}})})]},e)}),0===W.length&&(0,r.jsx)("p",{className:"text-[9px] text-center text-gray-300 uppercase italic",children:"Aucune donn\xe9e disponible"})]})]})]})]}),(0,r.jsx)(g(),{href:"/chat",className:"block mb-10 group active:scale-[0.98] transition-all",children:(0,r.jsxs)("div",{className:"bg-gradient-to-br from-[#3F51B5] via-[#5C6BC0] to-[#7986CB] p-7 rounded-[44px] text-white shadow-2xl shadow-indigo-200 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(m.A,{size:18,className:"text-violet-200"}),(0,r.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest text-violet-200",children:"Ask Insight AI"})]}),(0,r.jsx)("h2",{className:"text-xl font-black mb-1 leading-tight",children:"Des questions ?"}),(0,r.jsx)("p",{className:"text-[11px] text-violet-200/80 font-medium mb-4",children:"Emplois du temps, devoirs, notes..."}),(0,r.jsx)("div",{className:"inline-flex bg-white/10 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border border-white/10",children:"Lancer Assistant"})]}),(0,r.jsx)("div",{className:"absolute right-[-20px] bottom-[-20px] w-32 h-32 bg-white/5 rounded-full blur-3xl"})]})}),(0,r.jsxs)("div",{className:"mb-10",children:[(0,r.jsxs)("div",{className:"flex justify-between items-end mb-5",children:[(0,r.jsx)("h2",{className:"text-lg font-black text-gray-900 uppercase tracking-tighter",children:"Cours du jour"}),(0,r.jsx)(g(),{href:"/library",className:"text-[10px] font-bold text-primary uppercase tracking-widest hover:underline",children:"Voir tout"})]}),(0,r.jsxs)("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:[z.map((e,t)=>{var s;let a=null==(s=R[e.id])?void 0:s.completed;return(0,r.jsxs)("div",{className:"min-w-[200px] p-5 bg-white rounded-[32px] border border-gray-100 shadow-sm active:scale-95 transition-all cursor-pointer group relative",onClick:()=>{var t;return(null==(t=e.files)?void 0:t[0])&&w.B.openPackFile(e.id,e.files[0])},children:[(0,r.jsx)("button",{onClick:t=>{t.stopPropagation(),w.B.toggleLessonCompleted(e.id);let s=localStorage.getItem("gsi_progress");s&&V(JSON.parse(s)),N.o.success(a?"Marqu\xe9 comme non lu":"F\xe9licitations ! Cours termin\xe9.")},className:(0,v.cn)("absolute top-4 right-4 w-6 h-6 rounded-full border flex items-center justify-center transition-all",a?"bg-emerald-500 border-emerald-500 text-white":"bg-gray-50 border-gray-200 text-gray-300"),children:(0,r.jsx)(i.A,{size:12})}),(0,r.jsx)("div",{className:(0,v.cn)("w-10 h-10 rounded-xl flex items-center justify-center mb-4 transition-colors",a?"bg-emerald-50 text-emerald-500":"bg-indigo-50 text-indigo-500 group-hover:bg-primary group-hover:text-white"),children:(0,r.jsx)(x.A,{size:20})}),(0,r.jsx)("h3",{className:"font-black text-xs text-gray-800 mb-1 line-clamp-1 uppercase",children:e.title}),(0,r.jsx)("p",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-widest",children:e.subject})]},t)}),0===z.length&&(0,r.jsx)("p",{className:"text-gray-300 text-[10px] font-black uppercase py-10 px-4 border-2 border-dashed border-gray-100 rounded-[32px] text-center w-full",children:"Aucun contenu p\xe9dagogique"})]})]}),(0,r.jsxs)("div",{className:"mb-10",children:[(0,r.jsx)("h2",{className:"text-lg font-black text-gray-900 uppercase tracking-tighter mb-5",children:"Devoirs \xe0 rendre"}),(0,r.jsxs)("div",{className:"space-y-4",children:[D.map((e,t)=>(0,r.jsxs)("div",{className:"bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("span",{className:"bg-orange-50 text-orange-600 px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest",children:"En attente"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-[9px] font-black text-gray-300 uppercase",children:[(0,r.jsx)(d.A,{size:10}),e.deadline]})]}),(0,r.jsx)("h4",{className:"font-black text-sm uppercase tracking-tight mb-1",children:e.title}),(0,r.jsx)("p",{className:"text-[10px] font-bold text-gray-400 mb-4",children:e.subject}),e.files&&e.files.length>0&&(0,r.jsxs)("button",{onClick:()=>w.B.openPackFile(e.id,e.files[0]),className:"w-full py-3 mb-3 bg-indigo-50 text-indigo-600 rounded-xl text-[9px] font-black uppercase tracking-widest flex items-center justify-center gap-2",children:[(0,r.jsx)(p.A,{size:12}),"Consulter les ressources"]}),(0,r.jsx)("button",{onClick:()=>{let t=document.createElement("input");t.type="file",t.onchange=async t=>{let s=t.target.files[0];if(s){let t=N.o.loading('T\xe9l\xe9versement de "'.concat(s.name,'"...'));try{let r=await w.B.uploadFile(s,"submissions/".concat(e.id,"_").concat(S.id,"_").concat(s.name));await w.B.addSubmission({id:Math.random().toString(36).substr(2,9),assignmentId:e.id,studentId:S.id,studentName:S.fullName,date:new Date().toISOString(),file:r}),N.o.success("Devoir envoy\xe9 avec succ\xe8s !",{id:t})}catch(e){N.o.error("\xc9chec de l'envoi : "+e.message,{id:t})}}},t.click()},className:"w-full py-4 bg-gray-900 text-white rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-primary transition-colors shadow-lg active:scale-95",children:"D\xe9poser mon travail"})]},t)),0===D.length&&(0,r.jsx)("div",{className:"p-10 border-2 border-dashed border-gray-100 rounded-[32px] text-center",children:(0,r.jsx)("p",{className:"text-[10px] font-black text-gray-300 uppercase",children:"Aucune deadline"})})]})]}),_&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/70 z-[100] flex items-center justify-center p-4 backdrop-blur-md animate-in fade-in duration-300",children:(0,r.jsxs)("div",{className:"bg-white rounded-[48px] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300",children:[(0,r.jsxs)("div",{className:"p-8 bg-primary text-white flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-black text-sm uppercase tracking-widest",children:"Notifications"}),(0,r.jsx)("p",{className:"text-[9px] font-bold opacity-60 uppercase",children:"Flux GSI Internationale"})]}),(0,r.jsx)("button",{onClick:()=>M(!1),className:"p-3 bg-white/10 rounded-2xl active:scale-90 transition-all",children:(0,r.jsx)(h.A,{size:20})})]}),(0,r.jsxs)("div",{className:"p-4 space-y-3 max-h-[450px] overflow-y-auto bg-gray-50/50",children:[0===B.length&&0===D.length&&(0,r.jsxs)("div",{className:"py-20 flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center text-gray-300 mb-4",children:(0,r.jsx)(o.A,{size:24})}),(0,r.jsx)("p",{className:"text-[10px] font-black text-gray-300 uppercase tracking-widest italic",children:"Aucune notification pour le moment"})]}),B.map((e,t)=>{let s=E.includes(e.id);return(0,r.jsxs)("div",{className:(0,v.cn)("p-5 rounded-[32px] border transition-all duration-300",s?"bg-white border-gray-100 opacity-60":"bg-white border-indigo-100 shadow-lg shadow-indigo-500/5 ring-1 ring-indigo-500/10"),onClick:()=>(e=>{let t=Array.from(new Set([...E,e]));I(t),localStorage.setItem("gsi_read_notifications",JSON.stringify(t))})(e.id),children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("span",{className:(0,v.cn)("px-2 py-0.5 rounded-full text-[8px] font-black uppercase tracking-widest","convocation"===e.type?"bg-rose-500 text-white":"bg-primary text-white"),children:"convocation"===e.type?"OFFICIEL":"INFO"}),(0,r.jsx)("span",{className:"text-[8px] font-bold text-gray-300",children:new Date(e.date).toLocaleDateString()})]}),(0,r.jsx)("h4",{className:"text-[11px] font-black uppercase mb-1 text-gray-800",children:e.title}),(0,r.jsx)("p",{className:"text-[11px] text-gray-500 font-medium leading-relaxed",children:e.message})]},e.id)}),D.map(e=>(0,r.jsxs)("div",{className:"p-5 bg-orange-50/50 border border-orange-100 rounded-[32px]",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:"bg-orange-500 text-white px-2 py-0.5 rounded-full text-[8px] font-black uppercase tracking-widest",children:"DEVOIR"}),(0,r.jsx)("span",{className:"text-[8px] font-black text-orange-600 uppercase tracking-widest",children:"\xc0 RENDRE"})]}),(0,r.jsx)("h4",{className:"text-[11px] font-black uppercase mb-1 text-gray-800",children:e.title}),(0,r.jsxs)("p",{className:"text-[10px] text-orange-600 font-bold",children:["Date limite : ",e.deadline]})]},e.id))]}),(0,r.jsx)("div",{className:"p-6 bg-white border-t border-gray-100",children:(0,r.jsx)("button",{onClick:()=>{let e=B.map(e=>e.id);I(e),localStorage.setItem("gsi_read_notifications",JSON.stringify(e)),N.o.success("Tout est marqu\xe9 comme lu")},className:"w-full py-4 bg-gray-50 text-gray-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:text-primary transition-colors",children:"Tout marquer comme lu"})})]})})]})})}},90576:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},94374:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},96149:(e,t,s)=>{"use strict";s.d(t,{e:()=>k});var r=s(95155),a=s(12115),i=s(52619),n=s.n(i),l=s(20063),c=s(8595),o=s(28127),d=s(77187),u=s(92340),m=s(6943),x=s(27314),p=s(90644),h=s(2996),f=s(38623),g=s(70944),b=s(26615),v=s(64269),j=s(52910),y=s(68497),w=s(18720);let N=(0,s(67909).default)(()=>Promise.all([s.e(213),s.e(130),s.e(567)]).then(s.bind(s,57567)).then(e=>e.GSIViewer),{loadableGenerated:{webpack:()=>[57567]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})});function k(e){let{children:t}=e,{t:i}=(0,j.o)(),k=(0,l.usePathname)(),[A,S]=(0,a.useState)(null),[C,_]=(0,a.useState)(!1),[M,E]=(0,a.useState)(!0),[I,z]=(0,a.useState)(null),[L,D]=(0,a.useState)(!0);(0,a.useEffect)(()=>{S(y.B.getCurrentUser()),"Capacitor"in window&&Promise.resolve().then(s.bind(s,8703)).then(e=>{e.LocalNotifications.requestPermissions()});let e=e=>{D(!0),z(e.detail),setTimeout(()=>D(!1),8e3)};window.addEventListener("gsi-open-viewer",e);let t=y.B.subscribeSyncStatus(e=>_(e)),r=()=>E(!0),a=()=>E(!1);return window.addEventListener("online",r),window.addEventListener("offline",a),E(navigator.onLine),()=>{window.removeEventListener("gsi-open-viewer",e),t(),window.removeEventListener("online",r),window.removeEventListener("offline",a)}},[]);let P=[{icon:c.A,label:i("accueil"),href:"/"},{icon:o.A,label:i("planning"),href:"/schedule"},{icon:d.A,label:i("matieres"),href:"/subjects"},{icon:u.A,label:i("biblio"),href:"/library"},{icon:m.A,label:i("community"),href:"/community"},{icon:x.A,label:i("profil"),href:"/profile"}];return(0,r.jsxs)("div",{className:"flex flex-col h-screen max-w-md mx-auto bg-background shadow-xl overflow-hidden relative",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 z-[60] flex",children:C&&(0,r.jsx)("div",{className:"h-full bg-accent animate-pulse w-full shadow-[0_0_10px_rgba(255,107,0,0.5)]"})}),(0,r.jsx)("div",{className:"absolute top-4 right-4 z-[60] pointer-events-none",children:(0,r.jsxs)("div",{className:(0,v.cn)("px-2 py-1 rounded-full text-[8px] font-black uppercase tracking-tighter flex items-center gap-1.5 transition-all duration-500 backdrop-blur-md border",M?C?"bg-accent/90 text-white border-accent-400 scale-105":"bg-green-500/10 text-green-600 border-green-500/20 opacity-40 hover:opacity-100":"bg-red-500/90 text-white border-red-400"),children:[M?(0,r.jsx)(h.A,{size:10,className:(0,v.cn)(C&&"animate-ping")}):(0,r.jsx)(p.A,{size:10}),(0,r.jsx)("span",{children:M?C?"Sync...":"GSI Cloud":"Hors-ligne"})]})}),(0,r.jsx)("main",{className:"flex-1 overflow-y-auto pb-20",children:t}),(0,r.jsx)("nav",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 flex justify-between items-center z-10",children:P.map(e=>{let t=k===e.href;return(0,r.jsxs)(n(),{href:e.href,className:(0,v.cn)("flex flex-col items-center p-2 rounded-lg transition-all active:scale-90",t?"text-primary scale-110":"text-gray-500"),children:[(0,r.jsx)(e.icon,{size:24}),(0,r.jsx)("span",{className:"text-[10px] mt-1 font-medium",children:e.label})]},e.href)})}),!k.includes("chat")&&!k.includes("community")&&(0,r.jsx)(n(),{href:"/chat",className:"absolute bottom-24 right-4 bg-accent text-white p-4 rounded-full shadow-lg hover:scale-110 active:scale-95 transition-all z-20",children:(0,r.jsx)(f.A,{size:24})}),I&&(0,r.jsxs)("div",{className:"fixed inset-0 bg-black z-[100] flex flex-col animate-in slide-in-from-bottom duration-300",children:[(0,r.jsxs)("div",{className:"p-4 bg-gray-900 text-white flex justify-between items-center safe-top",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:(0,r.jsx)(g.A,{size:16})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-[10px] font-black uppercase tracking-widest block",children:"Lecteur GSI"}),(0,r.jsx)("span",{className:"text-[8px] font-bold text-gray-400 uppercase",children:"Document S\xe9curis\xe9"})]})]}),(0,r.jsx)("button",{onClick:()=>z(null),className:"p-3 bg-white/10 rounded-xl active:scale-90 transition-all",children:(0,r.jsx)(b.A,{size:20})})]}),(0,r.jsx)("div",{className:"flex-1 bg-white relative overflow-hidden",children:(0,r.jsx)(N,{url:I.url,type:I.type,onLoadComplete:()=>D(!1),onError:e=>{D(!1),w.o.error(e)}})}),(0,r.jsx)("div",{className:"p-4 bg-gray-900 text-center",children:(0,r.jsx)("p",{className:"text-[8px] font-bold text-gray-500 uppercase tracking-widest",children:"\xa9 Groupe GSI — Confidentialit\xe9 Totale"})})]})]})}}},e=>{e.O(0,[727,720,760,619,598,497,441,493,358],()=>e(e.s=54356)),_N_E=e.O()}]);