(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{639:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1190:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1631:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var a=s(5155),r=s(1190),i=s(63),l=s(5016);function c(e){let{title:t,subtitle:s,onBack:c,rightElement:n,className:d}=e,o=(0,i.useRouter)();return(0,a.jsxs)("div",{className:(0,l.cn)("flex items-center justify-between mb-6 gap-4",d),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>{c?c():o.back()},className:"p-2 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 active:scale-90 transition-all",children:(0,a.jsx)(r.A,{size:24})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:t}),s&&(0,a.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:s})]})]}),n&&(0,a.jsx)("div",{children:n})]})}},2265:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2593:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},3630:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4294).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5258:(e,t,s)=>{Promise.resolve().then(s.bind(s,9302))},9302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(5155),r=s(9294),i=s(5571),l=s(639),c=s(7314),n=s(8127),d=s(2265),o=s(2593),x=s(3630),m=s(2115),p=s(5016),h=s(4824),u=s(1631),g=s(8720);function b(){var e;let{t}=(0,i.o)(),[s,b]=(0,m.useState)("Lundi"),[y,j]=(0,m.useState)(null),[f,N]=(0,m.useState)([]),[v,k]=(0,m.useState)("day"),w=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"];(0,m.useEffect)(()=>{let e=h.B.getCurrentUser();if(!e)return;let t=[h.B.subscribeLatestSchedule(e.campus,e.niveau,e=>{y&&JSON.stringify(e)!==JSON.stringify(y)&&g.o.info("L'emploi du temps a \xe9t\xe9 mis \xe0 jour par l'administration."),j(e)}),h.B.subscribeReminders(e=>N(e.filter(e=>e.isAlarm)))];return()=>t.forEach(e=>e())},[y]);let A=(null==y||null==(e=y.slots)?void 0:e.filter(e=>e.day===s))||[],C=e=>{let t=e.split("").reduce((e,t)=>e+t.charCodeAt(0),0),s=["bg-indigo-600","bg-emerald-600","bg-orange-600","bg-rose-600","bg-violet-600","bg-sky-600"];return s[t%s.length]};return(0,a.jsx)(r.e,{children:(0,a.jsxs)("div",{className:"p-6 pb-24 bg-[#F8FAFC] min-h-full",children:[(0,a.jsx)(u.z,{title:t("planning")}),(0,a.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-4 mb-6 scrollbar-hide",children:w.map(e=>(0,a.jsx)("button",{onClick:()=>b(e),className:(0,p.cn)("px-6 py-3 rounded-2xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap",s===e?"bg-indigo-600 text-white shadow-lg shadow-indigo-100 scale-105":"bg-white text-gray-400 border border-gray-100"),children:e},e))}),(0,a.jsxs)("div",{className:"flex bg-white/50 p-1 rounded-2xl mb-6 border border-gray-100 self-center max-w-fit mx-auto",children:[(0,a.jsx)("button",{onClick:()=>k("day"),className:(0,p.cn)("px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all","day"===v?"bg-white text-primary shadow-sm":"text-gray-400"),children:"Jour"}),(0,a.jsx)("button",{onClick:()=>k("week"),className:(0,p.cn)("px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all","week"===v?"bg-white text-primary shadow-sm":"text-gray-400"),children:"Semaine"})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-12",children:["day"===v?A.sort((e,t)=>e.startTime.localeCompare(t.startTime)).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-[32px] border border-gray-100 shadow-sm flex gap-6 relative overflow-hidden group hover:shadow-md transition-all",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center border-r border-gray-100 pr-6 min-w-[80px]",children:[(0,a.jsx)("span",{className:"text-sm font-black text-gray-900",children:e.startTime}),(0,a.jsx)("div",{className:"w-0.5 h-4 bg-gray-100 my-1"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-400",children:e.endTime})]}),(0,a.jsxs)("div",{className:"flex-1 py-1",children:[(0,a.jsx)("h3",{className:"font-black text-sm text-gray-900 uppercase tracking-tight mb-3",children:e.subject}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(l.A,{size:12,className:"text-gray-400"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-500",children:e.room})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(c.A,{size:12,className:"text-gray-400"}),(0,a.jsx)("span",{className:"text-[10px] font-bold text-gray-500",children:e.instructor})]})]})]}),(0,a.jsx)("div",{className:(0,p.cn)("absolute right-0 top-0 bottom-0 w-1.5 transition-opacity",C(e.subject))})]},t)):(0,a.jsx)("div",{className:"space-y-6",children:w.map(e=>{var t;let s=(null==y||null==(t=y.slots)?void 0:t.filter(t=>t.day===e))||[];return 0===s.length?null:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-[10px] font-black uppercase text-gray-400 px-2 tracking-[0.2em]",children:e}),s.sort((e,t)=>e.startTime.localeCompare(t.startTime)).map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[11px] font-black uppercase text-gray-800",children:e.subject}),(0,a.jsxs)("p",{className:"text-[9px] font-bold text-gray-400",children:[e.startTime," â€” ",e.room]})]}),(0,a.jsx)("div",{className:(0,p.cn)("w-2 h-2 rounded-full",C(e.subject))})]},t))]},e)})}),0===A.length&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 opacity-20",children:[(0,a.jsx)(n.A,{size:64,className:"mb-4"}),(0,a.jsx)("p",{className:"font-black uppercase text-xs tracking-widest",children:"Aucun cours pr\xe9vu"})]})]}),(0,a.jsxs)("div",{className:"space-y-6 pt-6 border-t border-gray-200",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-xs font-black uppercase tracking-widest text-indigo-600",children:"Mon Programme Personnel"}),(0,a.jsx)("button",{onClick:()=>{let e=prompt("Titre de votre session d'\xe9tude :"),t=prompt("Heure (HH:mm) :","18:00"),s=prompt("Mati\xe8re :");e&&t&&s&&(h.B.addReminder({id:Math.random().toString(36).substr(2,9),title:e,date:new Date().toISOString().split("T")[0],time:t,subject:s,completed:!1,isAlarm:!0}),g.o.success("Programme ajout\xe9 avec alarme !"))},className:"p-2 bg-indigo-600 text-white rounded-xl active:scale-90 transition-all shadow-lg shadow-indigo-100",children:(0,a.jsx)(d.A,{size:20})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[f.map(e=>(0,a.jsxs)("div",{className:"bg-indigo-50/50 p-5 rounded-[28px] border border-indigo-100 flex items-center gap-4 group animate-in slide-in-from-bottom-2",children:[(0,a.jsxs)("div",{className:"w-12 h-12 bg-white rounded-2xl flex flex-col items-center justify-center shadow-sm text-indigo-600",children:[(0,a.jsx)(o.A,{size:16}),(0,a.jsx)("span",{className:"text-[8px] font-black mt-1",children:e.time})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-xs font-black uppercase text-indigo-900",children:e.subject}),(0,a.jsx)("p",{className:"text-[10px] font-bold text-indigo-400",children:e.title})]}),(0,a.jsx)("button",{onClick:()=>h.B.deleteReminder(e.id),className:"p-2 text-rose-400 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(x.A,{size:16})})]},e.id)),0===f.length&&(0,a.jsx)("div",{className:"p-8 border-2 border-dashed border-gray-100 rounded-[32px] text-center",children:(0,a.jsx)("p",{className:"text-[10px] font-black text-gray-300 uppercase",children:"Aucun programme personnel"})})]})]}),y&&(0,a.jsxs)("p",{className:"text-center text-[8px] font-black text-gray-300 uppercase tracking-[0.2em] mt-12",children:["Derni\xe8re mise \xe0 jour : ",new Date(y.lastUpdated).toLocaleString()]})]})})}}},e=>{e.O(0,[594,720,909,874,824,294,441,493,358],()=>e(e.s=5258)),_N_E=e.O()}]);