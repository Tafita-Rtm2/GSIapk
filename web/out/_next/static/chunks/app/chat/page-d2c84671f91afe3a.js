(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[457],{1190:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(4294).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1631:(e,s,t)=>{"use strict";t.d(s,{z:()=>o});var n=t(5155),a=t(1190),r=t(63),i=t(5016);function o(e){let{title:s,subtitle:t,onBack:o,rightElement:l,className:u}=e,d=(0,r.useRouter)();return(0,n.jsxs)("div",{className:(0,i.cn)("flex items-center justify-between mb-6 gap-4",u),children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:()=>{o?o():d.back()},className:"p-2 bg-gray-100 rounded-xl text-gray-500 hover:bg-gray-200 active:scale-90 transition-all",children:(0,n.jsx)(a.A,{size:24})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-800 leading-tight",children:s}),t&&(0,n.jsx)("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:t})]})]}),l&&(0,n.jsx)("div",{children:l})]})}},4979:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(4294).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},4991:(e,s,t)=>{Promise.resolve().then(t.bind(t,6245))},5016:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var n=t(2821),a=t(5889);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,n.$)(s))}},6245:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var n=t(5155),a=t(2115),r=t(9338),i=t(6615),o=t(4979),l=t(5016),u=t(4824),d=t(1631);function c(){let[e,s]=(0,a.useState)(null),[t,c]=(0,a.useState)([{role:"assistant",content:"Bonjour ! Je suis Insight, votre assistant acad\xe9mique GSI. Comment puis-je vous aider aujourd'hui ?"}]),[p,v]=(0,a.useState)(""),[m,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=u.B.getCurrentUser();e&&(s(e),c([{role:"assistant",content:"Bonjour ".concat(e.fullName.split(" ")[0]," ! Je suis Insight, votre assistant acad\xe9mique GSI. Comment puis-je vous aider aujourd'hui ?")}]))},[]);let x=async()=>{if(!p.trim()||m)return;let s=p.toLowerCase(),n=[...t,{role:"user",content:p}];c(n),v(""),h(!0);let a="";try{if(s.includes("bonjour")||s.includes("salut")||s.includes("hello"))a="Bonjour ".concat(null==e?void 0:e.fullName.split(" ")[0]," ! Heureuse de vous retrouver. Je suis pr\xeate \xe0 r\xe9pondre \xe0 vos questions sur vos cours, vos notes ou votre planning.");else if(s.includes("prochain")&&(s.includes("cours")||s.includes("planning")))a="Votre prochain cours est pr\xe9vu aujourd'hui \xe0 14h00. N'oubliez pas de consulter la section 'Planning' pour le d\xe9tail de la salle.";else if(s.includes("cours")||s.includes("le\xe7on")||s.includes("mati\xe8re")){let s=(await u.B.getLessons()).filter(s=>s.niveau===(null==e?void 0:e.niveau));if(s.length>0){let t=s[0];a="Actuellement, vous avez ".concat(s.length," supports de cours disponibles pour le niveau ").concat(null==e?void 0:e.niveau,'. Le plus r\xe9cent est "').concat(t.title,'" en ').concat(t.subject,". Souhaitez-vous que je vous aide \xe0 trouver un document sp\xe9cifique ?")}else a="Je n'ai pas encore trouv\xe9 de nouveaux supports de cours pour votre niveau (".concat(null==e?void 0:e.niveau,"). Je vous pr\xe9viendrai d\xe8s qu'un professeur publiera du contenu !")}else if(s.includes("devoir")||s.includes("t\xe2che")||s.includes("exercice")||s.includes("rendre")){let s=(await u.B.getAssignments()).filter(s=>s.niveau===(null==e?void 0:e.niveau));a=s.length>0?"Vous avez ".concat(s.length,' devoirs en attente. Le plus important est "').concat(s[0].title,'" \xe0 rendre pour le ').concat(s[0].deadline,". Ne tardez pas trop !"):"Tout est \xe0 jour ! Vous n'avez aucun devoir en attente pour le moment. Profitez-en pour r\xe9viser vos le\xe7ons dans la Biblioth\xe8que."}else if(s.includes("note")||s.includes("moyenne")||s.includes("r\xe9sultat")||s.includes("examen")){let s=(await u.B.getGrades()).filter(s=>s.studentId===(null==e?void 0:e.id));if(s.length>0){let e=(s.reduce((e,s)=>e+s.score,0)/s.length).toFixed(2),t=Math.max(...s.map(e=>e.score));a="D'apr\xe8s vos derniers r\xe9sultats, votre moyenne g\xe9n\xe9rale est de ".concat(e,"/20. Votre meilleure performance est de ").concat(t,"/20. Continuez vos efforts !")}else a="Vos notes ne sont pas encore enregistr\xe9es dans le syst\xe8me. D\xe8s qu'un professeur aura valid\xe9 vos copies, elles appara\xeetront ici et dans votre Dashboard."}else a=s.includes("campus")||s.includes("gsi")||s.includes("o\xf9")?"Vous \xeates rattach\xe9 au campus GSI ".concat(null==e?void 0:e.campus,". Pour rappel, GSI est pr\xe9sente \xe0 Antananarivo, Antsirabe, Bypass et Tamatave. Chaque campus offre les m\xeames standards d'excellence !"):s.includes("aide")||s.includes("besoin")||s.includes("comment")?"Je peux vous aider \xe0 : \n1. Voir vos prochaines \xe9ch\xe9ances (devoirs)\n2. Consulter vos derni\xe8res notes\n3. V\xe9rifier vos supports de cours\n4. Vous renseigner sur votre campus\nQue puis-je faire pour vous ?":s.includes("merci")||s.includes("g\xe9nial")||s.includes("super")?"C'est un plaisir de vous aider ! Je reste \xe0 votre disposition si vous avez d'autres questions. Bonne \xe9tude !":"D\xe9sol\xe9e, je n'ai pas bien compris votre requ\xeate. Je suis Insight, votre assistant d\xe9di\xe9. Posez-moi une question sur vos \xe9tudes, vos notes ou votre vie au campus GSI !"}catch(e){a="D\xe9sol\xe9e, j'ai rencontr\xe9 une petite difficult\xe9 technique pour acc\xe9der \xe0 vos donn\xe9es. Pouvez-vous reformuler ?"}setTimeout(()=>{c([...n,{role:"assistant",content:a}]),h(!1)},800+1e3*Math.random())};return(0,n.jsxs)("div",{className:"flex flex-col h-screen max-w-md mx-auto bg-white shadow-xl overflow-hidden relative",children:[(0,n.jsx)(d.z,{title:"Ask Insight",subtitle:"Assistant IA GSI",className:"p-6 bg-primary text-white mb-0",rightElement:(0,n.jsx)("div",{className:"w-10 h-10 rounded-2xl bg-white/20 flex items-center justify-center backdrop-blur-md",children:(0,n.jsx)(r.A,{size:20})})}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-gray-50/50",children:[t.map((e,s)=>(0,n.jsxs)("div",{className:(0,l.cn)("flex flex-col animate-in fade-in slide-in-from-bottom-2","user"===e.role?"items-end":"items-start"),children:[(0,n.jsx)("div",{className:(0,l.cn)("max-w-[85%] p-4 rounded-[24px] text-sm font-medium shadow-sm whitespace-pre-wrap","user"===e.role?"bg-primary text-white rounded-tr-none shadow-primary/20":"bg-white text-gray-800 rounded-tl-none border border-gray-100"),children:e.content}),(0,n.jsx)("span",{className:"text-[8px] text-gray-300 mt-1 px-2 uppercase font-black",children:"user"===e.role?"Vous":"Insight"})]},s)),m&&(0,n.jsx)("div",{className:"flex flex-col items-start animate-pulse",children:(0,n.jsx)("div",{className:"bg-white text-gray-400 p-4 rounded-[24px] rounded-tl-none border border-gray-100 text-xs font-bold italic",children:"Insight r\xe9fl\xe9chit..."})})]}),(0,n.jsxs)("div",{className:"p-4 bg-white border-t border-gray-100 flex gap-2 items-center",children:[(0,n.jsxs)("div",{className:"flex-1 relative",children:[(0,n.jsx)("input",{type:"text",value:p,onChange:e=>v(e.target.value),onKeyDown:e=>"Enter"===e.key&&x(),placeholder:"Posez votre question...",className:"w-full bg-gray-100 rounded-2xl px-5 py-4 outline-none text-sm font-medium focus:ring-2 ring-primary/20 transition-all"}),p&&(0,n.jsx)("button",{onClick:()=>v(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,n.jsx)(i.A,{size:16})})]}),(0,n.jsx)("button",{onClick:x,disabled:!p.trim(),className:"bg-primary text-white p-4 rounded-2xl shadow-lg shadow-primary/30 hover:scale-105 active:scale-95 transition-all disabled:opacity-50 disabled:scale-100",children:(0,n.jsx)(o.A,{size:20})})]})]})}},6615:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(4294).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9338:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});let n=(0,t(4294).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])}},e=>{e.O(0,[594,909,824,441,493,358],()=>e(e.s=4991)),_N_E=e.O()}]);